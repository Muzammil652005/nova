import{s as y}from"./Bb_Zr0-o.js";import{l as r,j as g,c as l,a as t,p as f,m as u,F as _,r as p,o,t as a}from"./CcHKtwEb.js";const k={class:"w-full h-full p-4"},w={class:"overflow-x-auto rounded-box border border-base-content/5 bg-white"},x={class:"table"},C=["onClick"],L={key:0,class:"w-full flex items-center justify-between mt-4"},E={class:"join"},M=["onClick","innerHTML"],B={__name:"index",setup(j){const d=r(10),m=r(1),c=r(10),i=r(null);g(async()=>{h(),y(()=>{h()},5e3)});async function h(){await $fetch("/api/contact",{method:"POST",body:{limit:d.value,page:m.value}}).then(function(s){i.value=s.contacts,c.value=s.total})}async function v(s){await $fetch("/api/contact/"+s,{method:"DELETE",body:{limit:d.value,page:m.value}}).then(function(e){i.value=e.contacts,c.value=e.total})}return(s,e)=>(o(),l("div",k,[t("div",w,[t("table",x,[e[1]||(e[1]=t("thead",null,[t("tr",null,[t("th",null,"S.No"),t("th",null,"Name"),t("th",null,"Email"),t("th",null,"Phone"),t("th",null,"Location"),t("th",null,"Message"),t("th",null,"Action")])],-1)),t("tbody",null,[u(i)?(o(!0),l(_,{key:0},p(u(i),(n,b)=>(o(),l("tr",{key:b},[t("td",null,a(n.id),1),t("td",null,a(n.name),1),t("td",null,a(n.email),1),t("td",null,a(n.phone),1),t("td",null,a(n.location),1),t("td",null,a(n.message),1),t("td",null,[t("button",{onClick:N=>v(n.id),class:"btn btn-square btn-soft btn-error"},[...e[0]||(e[0]=[t("span",{class:"icon-[solar--trash-bin-2-outline] text-lg"},null,-1)])],8,C)])]))),128)):f("",!0)])])]),u(c)>=10?(o(),l("div",L,[t("div",E,[(o(!0),l(_,null,p(Math.round(u(c)/u(d)),n=>(o(),l("button",{key:n,onClick:b=>(m.value=n,h()),class:"join-item btn btn-md",innerHTML:n},null,8,M))),128))])])):f("",!0)]))}};export{B as default};
